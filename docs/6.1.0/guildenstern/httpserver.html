<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>guildenstern/httpserver</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<!-- JS -->
<script type="text/javascript" src="../dochack.js"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">guildenstern/httpserver</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li><a class="reference" id="example_toc" href="#example">Example</a></li>
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#HttpContext" title="HttpContext = ref object of SocketContext
  request*: string           ## Contains the request itself in [0 ..&lt; requestlen]
  requestlen*: int
  uristart*: int
  urilen*: int
  methlen*: int
  bodystart*: int">HttpContext</a></li>
<li><a class="reference" href="#HttpServer" title="HttpServer = ref object of GuildenServer
  maxheaderlength* = 10000   ## Maximum allowed size for http header part.
  maxrequestlength* = 100000 ## Maximum allowed size for http requests. Every thread will reserve this much memory.
  sockettimeoutms* = 5000    ## If socket is unresponsive for longer, it will be closed.
  requestCallback*: proc () {.gcsafe, nimcall, raises: [].}
  parserequestline*: bool    ## If you don't need uri or method, but need max perf, set this to false
  hascontent*: bool          ## When serving GET or other method without body, set this to false">HttpServer</a></li>
<li><a class="reference" href="#SocketState" title="SocketState = enum
  Fail = -1, TryAgain = 0, Progress = 1, Complete = 2">SocketState</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">getBody
  <li><a class="reference" href="#getBody" title="getBody(): string">getBody(): string</a></li>

</ul>
<ul class="simple nested-toc-section">getBodylen
  <li><a class="reference" href="#getBodylen" title="getBodylen(): int">getBodylen(): int</a></li>

</ul>
<ul class="simple nested-toc-section">getMethod
  <li><a class="reference" href="#getMethod" title="getMethod(): string">getMethod(): string</a></li>

</ul>
<ul class="simple nested-toc-section">getRequest
  <li><a class="reference" href="#getRequest" title="getRequest(): string">getRequest(): string</a></li>

</ul>
<ul class="simple nested-toc-section">getUri
  <li><a class="reference" href="#getUri" title="getUri(): string">getUri(): string</a></li>

</ul>
<ul class="simple nested-toc-section">isBody
  <li><a class="reference" href="#isBody%2Cstring" title="isBody(body: string): bool">isBody(body: string): bool</a></li>

</ul>
<ul class="simple nested-toc-section">isHttpContext
  <li><a class="reference" href="#isHttpContext" title="isHttpContext(): bool">isHttpContext(): bool</a></li>

</ul>
<ul class="simple nested-toc-section">isMethod
  <li><a class="reference" href="#isMethod%2Cstring" title="isMethod(amethod: string): bool">isMethod(amethod: string): bool</a></li>

</ul>
<ul class="simple nested-toc-section">isUri
  <li><a class="reference" href="#isUri%2Cstring" title="isUri(uri: string): bool">isUri(uri: string): bool</a></li>

</ul>
<ul class="simple nested-toc-section">newHttpServer
  <li><a class="reference" href="#newHttpServer%2Cproc%29" title="newHttpServer(onrequestcallback: proc () {.gcsafe, nimcall, raises: [].};
              loglevel = LogLevel.WARN; parserequestline = true;
              hascontent = true): HttpServer">newHttpServer(onrequestcallback: proc () {.gcsafe, nimcall, raises: [].};
              loglevel = LogLevel.WARN; parserequestline = true;
              hascontent = true): HttpServer</a></li>

</ul>
<ul class="simple nested-toc-section">parseAllHeaders
  <li><a class="reference" href="#parseAllHeaders%2CStringTableRef" title="parseAllHeaders(headers: StringTableRef)">parseAllHeaders(headers: StringTableRef)</a></li>

</ul>
<ul class="simple nested-toc-section">parseHeaders
  <li><a class="reference" href="#parseHeaders%2CopenArray%5Bstring%5D%2CopenArray%5Bstring%5D" title="parseHeaders(fields: openArray[string]; toarray: var openArray[string])">parseHeaders(fields: openArray[string]; toarray: var openArray[string])</a></li>

</ul>
<ul class="simple nested-toc-section">reply
  <li><a class="reference" href="#reply%2CHttpCode" title="reply(code: HttpCode): SocketState">reply(code: HttpCode): SocketState</a></li>
<li><a class="reference" href="#reply%2CHttpCode%2Cptr.string%2CopenArray%5Bstring%5D" title="reply(code: HttpCode; body: ptr string; headers: openArray[string])">reply(code: HttpCode; body: ptr string; headers: openArray[string])</a></li>
<li><a class="reference" href="#reply%2CHttpCode%2Cptr.string%2Cptr.string" title="reply(code: HttpCode; body: ptr string; headers: ptr string)">reply(code: HttpCode; body: ptr string; headers: ptr string)</a></li>

</ul>
<ul class="simple nested-toc-section">replyFinish
  <li><a class="reference" href="#replyFinish" title="replyFinish(): SocketState">replyFinish(): SocketState</a></li>

</ul>
<ul class="simple nested-toc-section">replyMore
  <li><a class="reference" href="#replyMore%2Cptr.string%2Cint%2Cint" title="replyMore(bodypart: ptr string; start: int; partlength: int = -1): (SocketState,
    int)">replyMore(bodypart: ptr string; start: int; partlength: int = -1): (SocketState,
    int)</a></li>

</ul>
<ul class="simple nested-toc-section">replyStart
  <li><a class="reference" href="#replyStart%2CHttpCode%2Cint%2CopenArray%5Bstring%5D" title="replyStart(code: HttpCode; contentlength: int; headers: openArray[string]): SocketState">replyStart(code: HttpCode; contentlength: int; headers: openArray[string]): SocketState</a></li>
<li><a class="reference" href="#replyStart%2CHttpCode%2Cint%2Cptr.string" title="replyStart(code: HttpCode; contentlength: int; headers: ptr string = nil): SocketState">replyStart(code: HttpCode; contentlength: int; headers: ptr string = nil): SocketState</a></li>

</ul>
<ul class="simple nested-toc-section">startsUri
  <li><a class="reference" href="#startsUri%2Cstring" title="startsUri(uristart: string): bool">startsUri(uristart: string): bool</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#18" id="68">Templates</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">http
  <li><a class="reference" href="#http.t" title="http(): untyped">http(): untyped</a></li>

</ul>
<ul class="simple nested-toc-section">reply
  <li><a class="reference" href="#reply.t%2Cstring" title="reply(body: string)">reply(body: string)</a></li>
<li><a class="reference" href="#reply.t%2Cstring%2CopenArray%5Bstring%5D" title="reply(body: string; headers: openArray[string])">reply(body: string; headers: openArray[string])</a></li>
<li><a class="reference" href="#reply.t%2CHttpCode%2Cstring" title="reply(code: HttpCode; body: string)">reply(code: HttpCode; body: string)</a></li>
<li><a class="reference" href="#reply.t%2CHttpCode%2Cstring%2CopenArray%5Bstring%5D" title="reply(code: HttpCode; body: string; headers: openArray[string])">reply(code: HttpCode; body: string; headers: openArray[string])</a></li>
<li><a class="reference" href="#reply.t%2CHttpCode%2CopenArray%5Bstring%5D" title="reply(code: HttpCode; headers: openArray[string])">reply(code: HttpCode; headers: openArray[string])</a></li>

</ul>
<ul class="simple nested-toc-section">replyMore
  <li><a class="reference" href="#replyMore.t%2Cstring" title="replyMore(bodypart: string): bool">replyMore(bodypart: string): bool</a></li>

</ul>
<ul class="simple nested-toc-section">server
  <li><a class="reference" href="#server.t" title="server(): untyped">server(): untyped</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <a class="reference reference-toplevel" href="#19" id="69">Exports</a>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    
    <div id="tocRoot"></div>
    
    <p class="module-desc"><p>A server for handling HTTP/1.1 traffic.</p>
<p>The various reply procs and templates should be self-explanatory. Exception is the replyStart - replyMore - replyFinish combo. They should be used when the response is not available as one chunk (for example, due to its size.) In this case, one replyStart starts the response, followed by one ore more replyMores, and finally a replyFinish finishes the response.</p>

<h1><a class="toc-backref" id="example" href="#example">Example</a></h1><pre class="listing"><span class="Keyword">import</span> <span class="Identifier">guildenstern</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">dispatcher</span><span class="Punctuation">,</span> <span class="Identifier">httpserver</span><span class="Punctuation">]</span>
<span class="Keyword">import</span> <span class="Identifier">httpclient</span>

<span class="Keyword">const</span> <span class="Identifier">headerfields</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="StringLit">&quot;afield&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;anotherfield&quot;</span><span class="Punctuation">]</span>
<span class="Keyword">var</span> <span class="Identifier">headers</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">threadvar</span><span class="Operator">.</span><span class="Punctuation">}</span><span class="Punctuation">:</span> <span class="Identifier">array</span><span class="Punctuation">[</span><span class="DecNumber">2</span><span class="Punctuation">,</span> <span class="Identifier">string</span><span class="Punctuation">]</span>

<span class="Keyword">proc</span> <span class="Identifier">onRequest</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Identifier">parseHeaders</span><span class="Punctuation">(</span><span class="Identifier">headerfields</span><span class="Punctuation">,</span> <span class="Identifier">headers</span><span class="Punctuation">)</span>
  <span class="Identifier">echo</span> <span class="Identifier">headers</span>
  <span class="Identifier">reply</span><span class="Punctuation">(</span><span class="Identifier">Http204</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">server</span> <span class="Operator">=</span> <span class="Identifier">newHttpServer</span><span class="Punctuation">(</span><span class="Identifier">onRequest</span><span class="Punctuation">)</span>
<span class="Identifier">server</span><span class="Operator">.</span><span class="Identifier">start</span><span class="Punctuation">(</span><span class="DecNumber">5050</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">for</span> <span class="Identifier">i</span> <span class="Keyword">in</span> <span class="DecNumber">1</span> <span class="Operator">..</span> <span class="DecNumber">10</span><span class="Punctuation">:</span>
  <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">headers</span> <span class="Operator">=</span> <span class="Identifier">newHttpHeaders</span><span class="Punctuation">(</span><span class="Punctuation">{</span><span class="StringLit">&quot;afield&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;value&quot;</span> <span class="Operator">&amp;</span> <span class="Operator">$</span><span class="Identifier">i</span><span class="Punctuation">,</span> <span class="StringLit">&quot;bfield&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;bfieldvalue&quot;</span><span class="Punctuation">}</span><span class="Punctuation">)</span>
  <span class="Keyword">discard</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">request</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://localhost:5050&quot;</span><span class="Punctuation">)</span></pre></p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="guildenserver.html">guildenserver</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="HttpContext">
  <dt><pre><a href="httpserver.html#HttpContext"><span class="Identifier">HttpContext</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="guildenserver.html#SocketContext"><span class="Identifier">SocketContext</span></a>
  <span class="Identifier">request</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>           <span class="Comment">## Contains the request itself in [0 ..&lt; requestlen]</span>
  <span class="Identifier">requestlen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">uristart</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">urilen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">methlen</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">bodystart</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="HttpServer">
  <dt><pre><a href="httpserver.html#HttpServer"><span class="Identifier">HttpServer</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="guildenserver.html#GuildenServer"><span class="Identifier">GuildenServer</span></a>
  <span class="Identifier">maxheaderlength</span><span class="Operator">*</span> <span class="Other">=</span> <span class="DecNumber">10000</span>   <span class="Comment">## Maximum allowed size for http header part.</span>
  <span class="Identifier">maxrequestlength</span><span class="Operator">*</span> <span class="Other">=</span> <span class="DecNumber">100000</span> <span class="Comment">## Maximum allowed size for http requests. Every thread will reserve this much memory.</span>
  <span class="Identifier">sockettimeoutms</span><span class="Operator">*</span> <span class="Other">=</span> <span class="DecNumber">5000</span>    <span class="Comment">## If socket is unresponsive for longer, it will be closed.</span>
  <span class="Identifier">requestCallback</span><span class="Operator">*</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> </span><span class="Identifier">nimcall</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}
  <span class="Identifier">parserequestline</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>    <span class="Comment">## If you don't need uri or method, but need max perf, set this to false</span>
  <span class="Identifier">hascontent</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>          <span class="Comment">## When serving GET or other method without body, set this to false</span>
  </pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="SocketState">
  <dt><pre><a href="httpserver.html#SocketState"><span class="Identifier">SocketState</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">Fail</span> <span class="Other">=</span> <span class="DecNumber">-1</span><span class="Other">,</span> <span class="Identifier">TryAgain</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span> <span class="Identifier">Progress</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">,</span> <span class="Identifier">Complete</span> <span class="Other">=</span> <span class="DecNumber">2</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="getBody-procs-all">
  <div id="getBody">
  <dt><pre><span class="Keyword">proc</span> <a href="#getBody"><span class="Identifier">getBody</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the body as a string copy.  When --experimental:views compiler switch is used, there is also getBodyview proc that does not take a copy.
    
  </dd>
</div>

</div>
<div id="getBodylen-procs-all">
  <div id="getBodylen">
  <dt><pre><span class="Keyword">proc</span> <a href="#getBodylen"><span class="Identifier">getBodylen</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="getMethod-procs-all">
  <div id="getMethod">
  <dt><pre><span class="Keyword">proc</span> <a href="#getMethod"><span class="Identifier">getMethod</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    When parserequestline == true, returns the method as a string copy
    
  </dd>
</div>

</div>
<div id="getRequest-procs-all">
  <div id="getRequest">
  <dt><pre><span class="Keyword">proc</span> <a href="#getRequest"><span class="Identifier">getRequest</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="getUri-procs-all">
  <div id="getUri">
  <dt><pre><span class="Keyword">proc</span> <a href="#getUri"><span class="Identifier">getUri</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    When parserequestline == true, returns the uri as a string copy
    
  </dd>
</div>

</div>
<div id="isBody-procs-all">
  <div id="isBody,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#isBody%2Cstring"><span class="Identifier">isBody</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Compares the body without making a string copy
    
  </dd>
</div>

</div>
<div id="isHttpContext-procs-all">
  <div id="isHttpContext">
  <dt><pre><span class="Keyword">proc</span> <a href="#isHttpContext"><span class="Identifier">isHttpContext</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="isMethod-procs-all">
  <div id="isMethod,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#isMethod%2Cstring"><span class="Identifier">isMethod</span></a><span class="Other">(</span><span class="Identifier">amethod</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Compares method uri without making a string copy
    
  </dd>
</div>

</div>
<div id="isUri-procs-all">
  <div id="isUri,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#isUri%2Cstring"><span class="Identifier">isUri</span></a><span class="Other">(</span><span class="Identifier">uri</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Compares the uri without making a string copy
    
  </dd>
</div>

</div>
<div id="newHttpServer-procs-all">
  <div id="newHttpServer,proc)">
  <dt><pre><span class="Keyword">proc</span> <a href="#newHttpServer%2Cproc%29"><span class="Identifier">newHttpServer</span></a><span class="Other">(</span><span class="Identifier">onrequestcallback</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> </span><span class="Identifier">nimcall</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}<span class="Other">;</span>
                   <span class="Identifier">loglevel</span> <span class="Other">=</span> <a href="guildenserver.html#LogLevel"><span class="Identifier">LogLevel</span></a><span class="Other">.</span><span class="Identifier">WARN</span><span class="Other">;</span> <span class="Identifier">parserequestline</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">;</span>
                   <span class="Identifier">hascontent</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="httpserver.html#HttpServer"><span class="Identifier">HttpServer</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Constructs a new http server. The essential thing here is to set the onrequestcallback proc. When it is triggered in some thread, that thread offers access to the <a class="reference internal nimdoc" title="template http(): untyped" href="#http.t">http</a> socket context.</p>
<p>If you want to tinker with maxheaderlength, maxrequestlength and sockettimeoutms, that is best done after the server is constructed but before it is started.</p>

    
  </dd>
</div>

</div>
<div id="parseAllHeaders-procs-all">
  <div id="parseAllHeaders,StringTableRef">
  <dt><pre><span class="Keyword">proc</span> <a href="#parseAllHeaders%2CStringTableRef"><span class="Identifier">parseAllHeaders</span></a><span class="Other">(</span><span class="Identifier">headers</span><span class="Other">:</span> <span class="Identifier">StringTableRef</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Parses all headers into given strtabs.StringTable.
    
  </dd>
</div>

</div>
<div id="parseHeaders-procs-all">
  <div id="parseHeaders,openArray[string],openArray[string]">
  <dt><pre><span class="Keyword">proc</span> <a href="#parseHeaders%2CopenArray%5Bstring%5D%2CopenArray%5Bstring%5D"><span class="Identifier">parseHeaders</span></a><span class="Other">(</span><span class="Identifier">fields</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">toarray</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Parses header <tt class="docutils literal"><span class="pre"><span class="Identifier">fields</span></span></tt> values into <tt class="docutils literal"><span class="pre"><span class="Identifier">toarray</span></span></tt>. See example above.
    
  </dd>
</div>

</div>
<div id="reply-procs-all">
  <div id="reply,HttpCode">
  <dt><pre><span class="Keyword">proc</span> <a href="#reply%2CHttpCode"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">)</span><span class="Other">:</span> <a href="httpserver.html#SocketState"><span class="Identifier">SocketState</span></a> {.<span class="Identifier">discardable</span><span class="Other">,</span> <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="reply,HttpCode,ptr.string,openArray[string]">
  <dt><pre><span class="Keyword">proc</span> <a href="#reply%2CHttpCode%2Cptr.string%2CopenArray%5Bstring%5D"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">;</span> <span class="Identifier">body</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">headers</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="reply,HttpCode,ptr.string,ptr.string">
  <dt><pre><span class="Keyword">proc</span> <a href="#reply%2CHttpCode%2Cptr.string%2Cptr.string"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">;</span> <span class="Identifier">body</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">headers</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">string</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="replyFinish-procs-all">
  <div id="replyFinish">
  <dt><pre><span class="Keyword">proc</span> <a href="#replyFinish"><span class="Identifier">replyFinish</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="httpserver.html#SocketState"><span class="Identifier">SocketState</span></a> {.<span class="Identifier">discardable</span><span class="Other">,</span> <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                                  <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="replyMore-procs-all">
  <div id="replyMore,ptr.string,int,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#replyMore%2Cptr.string%2Cint%2Cint"><span class="Identifier">replyMore</span></a><span class="Other">(</span><span class="Identifier">bodypart</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">start</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">partlength</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">-1</span><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span>
    <a href="httpserver.html#SocketState"><span class="Identifier">SocketState</span></a><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="replyStart-procs-all">
  <div id="replyStart,HttpCode,int,openArray[string]">
  <dt><pre><span class="Keyword">proc</span> <a href="#replyStart%2CHttpCode%2Cint%2CopenArray%5Bstring%5D"><span class="Identifier">replyStart</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">;</span> <span class="Identifier">contentlength</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">headers</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="httpserver.html#SocketState"><span class="Identifier">SocketState</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="replyStart,HttpCode,int,ptr.string">
  <dt><pre><span class="Keyword">proc</span> <a href="#replyStart%2CHttpCode%2Cint%2Cptr.string"><span class="Identifier">replyStart</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">;</span> <span class="Identifier">contentlength</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">headers</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="httpserver.html#SocketState"><span class="Identifier">SocketState</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="startsUri-procs-all">
  <div id="startsUri,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#startsUri%2Cstring"><span class="Identifier">startsUri</span></a><span class="Other">(</span><span class="Identifier">uristart</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Compares the beginning of the uri without making a string copy
    
  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="18">
  <h1><a class="toc-backref" href="#18">Templates</a></h1>
  <dl class="item">
    <div id="http-templates-all">
  <div id="http.t">
  <dt><pre><span class="Keyword">template</span> <a href="#http.t"><span class="Identifier">http</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
  <dd>
    
    Casts the socketcontext thread local variable into a HttpContext
    
  </dd>
</div>

</div>
<div id="reply-templates-all">
  <div id="reply.t,string">
  <dt><pre><span class="Keyword">template</span> <a href="#reply.t%2Cstring"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="reply.t,string,openArray[string]">
  <dt><pre><span class="Keyword">template</span> <a href="#reply.t%2Cstring%2CopenArray%5Bstring%5D"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">headers</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="reply.t,HttpCode,string">
  <dt><pre><span class="Keyword">template</span> <a href="#reply.t%2CHttpCode%2Cstring"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">;</span> <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="reply.t,HttpCode,string,openArray[string]">
  <dt><pre><span class="Keyword">template</span> <a href="#reply.t%2CHttpCode%2Cstring%2CopenArray%5Bstring%5D"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">;</span> <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">headers</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="reply.t,HttpCode,openArray[string]">
  <dt><pre><span class="Keyword">template</span> <a href="#reply.t%2CHttpCode%2CopenArray%5Bstring%5D"><span class="Identifier">reply</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">HttpCode</span><span class="Other">;</span> <span class="Identifier">headers</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="replyMore-templates-all">
  <div id="replyMore.t,string">
  <dt><pre><span class="Keyword">template</span> <a href="#replyMore.t%2Cstring"><span class="Identifier">replyMore</span></a><span class="Other">(</span><span class="Identifier">bodypart</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="server-templates-all">
  <div id="server.t">
  <dt><pre><span class="Keyword">template</span> <a href="#server.t"><span class="Identifier">server</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
  <dd>
    
    Casts the socketcontext.socketdata.server into a HttpServer
    
  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="19">
  <h1><a class="toc-backref" href="#19">Exports</a></h1>
  <dl class="item">
    <a href="guildenserver.html#LogLevel"><span class="Identifier">LogLevel</span></a>, <a href="guildenserver.html#SocketData"><span class="Identifier">SocketData</span></a>, <a href="guildenserver.html#GuildenSternVersion"><span class="Identifier">GuildenSternVersion</span></a>, <a href="guildenserver.html#closeSocket,string"><span class="Identifier">closeSocket</span></a>, <a href="guildenserver.html#LogCallback"><span class="Identifier">LogCallback</span></a>, <a href="guildenserver.html#shutdown"><span class="Identifier">shutdown</span></a>, <a href="guildenserver.html#shuttingdown"><span class="Identifier">shuttingdown</span></a>, <a href="guildenserver.html#GuildenServer"><span class="Identifier">GuildenServer</span></a>, <a href="guildenserver.html#SocketCloseCause"><span class="Identifier">SocketCloseCause</span></a>, <a href="guildenserver.html#socketcontext"><span class="Identifier">socketcontext</span></a>, <a href="guildenserver.html#log.t,GuildenServer,LogLevel,string"><span class="Identifier">log</span></a>, <a href="guildenserver.html#suspend,int"><span class="Identifier">suspend</span></a>, <a href="guildenserver.html#closeOtherSocket,GuildenServer,,SocketCloseCause,string"><span class="Identifier">closeOtherSocket</span></a>, <a href="guildenserver.html#OnCloseSocketCallback"><span class="Identifier">OnCloseSocketCallback</span></a>, <a href="guildenserver.html#SocketContext_2"><span class="Identifier">SocketContext</span></a>
  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2023-08-22 16:38:29 UTC</small>
      </div>
    </div>
  </div>
  
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</body>
</html>
